<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Hello OPencv.js</title>
	<style>
		.inp{
			display:inline-block;
			margin:10px 20px 0 10px;
			width:300px;
			height:300px;
			border:2px solid black;
			position:relative;
		}
		.caption{
			position:absolute;
			bottom:-25px;
			height:20px;
			margin:auto;
		}
		img{width:300px;height:300px;}
	</style>
</head>
<body>
<h2>Hello OpenCV.js</h2>
<p id="status">Opencv is loading...</p>
<div>
	<div class="inp" style="float:left;">
		<img id="imgSrc" alt="No Image"/>
		<div class="caption"><input type="file" id="fileIn" name="file"></div>
	</div>
	<div class="inp">
		<canvas id="canvasout"></canvas>
		<div class="caption">CanvasOutPut</div>
	</div>
</div>
<script type="text/javascript">
	let img = document.getElementById('imgSrc');
	let inputEle = document.getElementById('fileIn');
	inputEle.addEventListener('change', (e)=>{
				img.src = URL.createObjectURL(e.target.files[0]);
			}, false);
	img.onload = function(){
		let mat = cv.imread(img);
		cv.imshow('canvasout', mat);
	};
	function onOpenCvReady(){
		document.getElementById('status').innerHTML = 'OpenCv.js is ready';
	}
</script>
<script async src="./opencv.js" onload="onOpenCvReady()" type="text/javascript"></script>
</body>
</html>
